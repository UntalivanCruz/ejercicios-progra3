{"filter":false,"title":"test.cpp","tooltip":"/EjerciciosClase/test.cpp","undoManager":{"mark":2,"position":2,"stack":[[{"start":{"row":0,"column":0},"end":{"row":101,"column":2},"action":"insert","lines":["#include <stdlib.h>","#include <stdio.h>","#define TAM 7","","","struct fnum { int numero; int serie; }; ","struct registro { struct fnum billete; char lugar[30]; }registro;","","","","","","void inicializageneradoraleatorios() {","  ","    srand(time(NULL));","}","","int azarnumero(int tope) {","   ","    return 1 + (int)((float)tope * rand() / (RAND_MAX + 1.0));","}","","int azar_serie(int tope) {","  ","    return 1 + (int)((float)tope * rand() / (RAND_MAX + 1.0));","}","","","void buscar(struct fnum elegido, char lugar[30]) { ","    int seguir;","    FILE* fich;","    seguir = 1;","    while (seguir == 1) {","","        fich = fopen(\"fichnumerosCompleto.dat\", \"r\");","        if (fich == NULL)","            printf(\"Error vacio\\n\");","        else {","","            fread(&registro, sizeof(struct registro), 1, fich);","            ","            while ((elegido.numero = registro.billete.numero) && (elegido.serie = registro.billete.serie)) {","               ","                lugar[30] = *registro.lugar;","                seguir = 0;","","            }","            ","        }","    }","}","","","main() {","    int intervnum, intervserie; ","    int i;","    struct fnum premios[TAM]; ","    struct registro resultado[TAM];","    FILE* result;","    FILE* fich;","    inicializageneradoraleatorios();","    printf(\"Produce un numero aleatorio de loteria: \\n\");","","   ","    intervnum = 9999 + 1;","    intervserie = 9 + 1;","    for (i = 0; i < TAM; i++) {","        premios[i].numero = azarnumero(intervnum) % 9999 + 1;","        premios[i].serie = azar_serie(intervserie);","        printf(\"\\n Premio %d\\t\", i + 1);","        printf(\"%d\\t %d\\n\", premios[i].numero, premios[i].serie);","","        result = fopen(\"result.dat\", \"wr\");","        ","        if (result != NULL); { ","            fwrite(&premios[i], sizeof(struct registro), 1, result);","            resultado[i].billete.numero = premios[i].numero;","            resultado[i].billete.serie = premios[i].serie;","            buscar(premios[i], resultado[i].lugar);","            ","            fwrite(&resultado[i], sizeof(struct registro), 1, result);","            fread(&resultado[i], sizeof(struct registro), 1, result);","            printf(\"\\n%d \\t%d \\t%s\", resultado[i].billete.numero, resultado[i].billete.serie, resultado[i].lugar);","            fclose(result);","        }","    }","}","","","fich = fopen(\"fichnumerosCompleto.dat\", \"r\");","if (fich == NULL)","printf(\"Error vacio\\n\");","else {","    printf(\"\\t\");","    fread(&registro, sizeof(struct registro), 1, fich);","    printf(\"\\nNumero \\tSerie \\tLugar\");","    while ((registro.billete.numero <= 10) && (registro.billete.serie <= 3)) {","        printf(\"\\n%d \\t%d \\t%s\\n\", registro.billete.numero, registro.billete.serie, registro.lugar);","        fread(&registro, sizeof(struct registro), 1, fich);","    }fclose(fich);","}","} "],"id":1}],[{"start":{"row":90,"column":17},"end":{"row":90,"column":18},"action":"insert","lines":["{"],"id":2}],[{"start":{"row":91,"column":24},"end":{"row":92,"column":0},"action":"insert","lines":["",""],"id":3},{"start":{"row":92,"column":0},"end":{"row":92,"column":1},"action":"insert","lines":["}"]}]]},"ace":{"folds":[],"scrolltop":660,"scrollleft":0,"selection":{"start":{"row":91,"column":24},"end":{"row":91,"column":24},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":27,"state":"start","mode":"ace/mode/c_cpp"}},"timestamp":1621636227768,"hash":"5d7a06d588d3a5fb74cfb11f71d124c2596aa47a"}